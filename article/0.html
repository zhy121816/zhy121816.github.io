<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++实现的高精度计算（未完成）- zhanghy16的主页</title>
    <link rel="icon" type="image/x-icon" href="../image/favicon.ico">
    <link rel="stylesheet" href="../css/article-style.css">
    <script src="../js/theme.js"></script>
</head>
<body>
    <div class="background-animation"></div>
    
    <div class="article-container">
        <!-- 返回主页按钮 -->
        <a href="../index.php" class="back-home-btn">
            ← 返回主页
        </a>

        <!-- 文章内容 -->
        <article class="article-wrapper">
            <header class="article-header">
                <h1 class="article-title">C++实现的高精度计算（未完成）</h1>
                <div class="article-meta">
                    <span class="article-date">2026年2月4日</span>
                    <span class="article-author">zhanghy16</span>
                </div>
            </header>

            <div class="article-content">
                <p>之前在写OI题的时候，经常需要用到高精度计算，但是C++的自带的int和long long已经不够用了，于是我借助洛谷教材和AI的帮助，实现了高精度计算。</p>
                
                <h2>代码</h2>
                <div class="code-block-wrapper">
                    <button class="copy-code-btn" onclick="copyCode(this)" title="复制代码">
                        <span class="copy-text">复制</span>
                    </button>
                    <pre><code>
#ifndef BIGINT__LUOGU_H
#define BIGINT__LUOGU_H

#include <cstring>
#include <cstdio>
#include <algorithm>
#include <string>

#define MAXN 100
struct BigInt{
	int len, a[MAXN];
	BigInt(int x = 0){ //通过初始化使得这个大整数能够表示整型 x，默认为0
		std::memset(a,0,sizeof(a));
		for(len = 1;x;len++){
			a[len] = x % 10,x /= 10;
		}
		len--;
		
	}
	BigInt(const std::string& str) {
		std::memset(a, 0, sizeof(a)); // 初始化数组为0
		len = str.size(); // 直接使用字符串长度
		
		// 逆序存储数字（a[1]为个位，a[2]为十位，依此类推）
		for (int i = 0; i < len; i++) {
			a[len - i] = str[i] - '0'; // 字符转数字
		}
	}
	int &operator[](int i){
		return a[i];
	}
	void flatten(int L){
		len = L;
		for(int i = 1;i <= len;i++){
			a[i + 1] += a[i] / 10,a[i] %= 10;
		}
		for(;!a[len];){
			len--;
		}
		return;
	}
	void print(){ //输出
		for(int i = std::max(len,1);i >= 1;i--){
			std::printf("%d",a[i]);
		}
	}
};

BigInt operator+(BigInt a,BigInt b){ //表示两个BigInt类相加，返回一个BigInt类
	BigInt c;
	int len = std::max(a.len,b.len);
	for(int i = 1;i <= len;i++){
		c[i] += a[i] + b[i];
	}
	c.flatten(len + 1); //答案不超过len + 1位，所以用len + 1做一遍“展平”处理进位
	return c;
}


BigInt operator-(BigInt a, BigInt b) { // 表示两个BigInt类相减，返回一个BigInt类（假设a >= b）
	BigInt c;
	int len = std::max(a.len, b.len);
	for (int i = 1; i <= len; i++) {
		c[i] += a[i] - b[i]; // 逐位相减
		if (c[i] < 0) { // 处理借位
			c[i] += 10;
			c[i + 1] -= 1;
		}
	}
	c.flatten(len); // 处理结果的位数
	return c;
}


BigInt operator*(BigInt a,int b){ //表示BigInt类乘整型变量，返回一个BigInt类
	BigInt c;
	int len = a.len;
	for(int i = 1;i <= len;i++){
		c[i] = a[i] * b;
	}
	c.flatten(len + 11); //int类型最长10位，所以可以这样做一遍“展平”处理进位
	return c;
}


bool operator>(const BigInt& lhs, const BigInt& rhs) {
	// 1. 比较长度
	if (lhs.len > rhs.len) return true;
	if (lhs.len < rhs.len) return false;
	// 2. 长度相同，逐位比较（从最高位开始）
	for (int i = lhs.len; i >= 1; i--) {
		if (lhs.a[i] > rhs.a[i]) return true;
		if (lhs.a[i] < rhs.a[i]) return false;
	}
	// 3. 完全相等
	return false;
}

#endif //BIGINT__LUOGU_H
                </code></pre>
                </div>
            </div>

            <!-- 文章导航 -->
            <!--由于是第1篇文章，不需要上一篇文章，所以注释掉
            <nav class="article-navigation">
                <a href="example.html" class="article-nav-prev">
                    ←
                    <div class="article-nav-text">
                        <span class="article-nav-label">上一篇文章</span>
                        <span class="article-nav-title">上一篇文章标题</span>
                    </div>
                </a>
            -->
                <a href="1.html" class="article-nav-next">
                    <div class="article-nav-text">
                        <span class="article-nav-label">下一篇文章</span>
                        <span class="article-nav-title">DP是个坎</span>
                    </div>
                    →
                </a>
            </nav>
        </article>

        <!-- 底部信息 -->
        <footer class="article-footer">
            <div class="footer-content">
                <div class="contact-info">
                    <a href="mailto:zhanghongyi121816@163.com" class="email-link">
                    ✉ zhanghongyi121816@163.com
                    </a>
                </div>
                <div class="copyright">
                    <p>&copy; 2026 版权所有</p>
                    <p>
                        <a href="https://beian.miit.gov.cn" target="_blank" rel="noopener noreferrer" class="icp-link">苏ICP备2026009739号-1</a>
                    </p>
                </div>
            </div>
        </footer>
    </div>

    <script src="../js/article.js"></script>
</body>
</html>
